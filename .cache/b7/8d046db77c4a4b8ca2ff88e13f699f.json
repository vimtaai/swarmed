{"id":"PUau","dependencies":[{"name":"C:\\Users\\visno\\Desktop\\zombies\\package.json","includedInParent":true,"mtime":1571085837386},{"name":"./actors/actor/zombies/common","loc":{"line":3,"column":23},"parent":"C:\\Users\\visno\\Desktop\\zombies\\src\\state.ts","resolved":"C:\\Users\\visno\\Desktop\\zombies\\src\\actors\\actor\\zombies\\common.ts"},{"name":"./canvas","loc":{"line":4,"column":23},"parent":"C:\\Users\\visno\\Desktop\\zombies\\src\\state.ts","resolved":"C:\\Users\\visno\\Desktop\\zombies\\src\\canvas.ts"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require(\"./actors/actor/zombies/common\"),t=require(\"./canvas\"),o=function(){function o(){this.zombieSpawnRate=2,this.selectedClass=0}return o.prototype.setStage=function(e){this.stage=e,e.init(),e.listenForEvents()},o.prototype.createZombie=function(o){if(Math.random()<this.zombieSpawnRate*o){var s=new e.CommonZombie(t.foreground);s.setCoords(),s.setFacing(this.player.coords),this.zombies.push(s)}},o.prototype.destroyZombie=function(e){var t=this.zombies.indexOf(e);this.zombies.splice(t,1)},o.prototype.destroyProjectile=function(e){var t=this.player.projectiles.indexOf(e);this.player.projectiles.splice(t,1),this.player.score++},o}();exports.State=o,exports.state=new o;"},"sourceMaps":{"js":{"mappings":[{"source":"src/state.ts","name":null,"original":{"line":45,"column":13},"generated":{"line":1,"column":0}},{"source":"src/state.ts","name":null,"original":{"line":45,"column":13},"generated":{"line":1,"column":13}},{"source":"src/state.ts","name":null,"original":{"line":45,"column":13},"generated":{"line":1,"column":20}},{"source":"src/state.ts","name":null,"original":{"line":45,"column":13},"generated":{"line":1,"column":35}},{"source":"src/state.ts","name":null,"original":{"line":45,"column":13},"generated":{"line":1,"column":43}},{"source":"src/state.ts","name":null,"original":{"line":45,"column":13},"generated":{"line":1,"column":56}},{"source":"src/state.ts","name":null,"original":{"line":45,"column":13},"generated":{"line":1,"column":57}},{"source":"src/state.ts","name":null,"original":{"line":45,"column":13},"generated":{"line":1,"column":64}},{"source":"src/state.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":68}},{"source":"src/state.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":72}},{"source":"src/state.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":74}},{"source":"src/state.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":82}},{"source":"src/state.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":115}},{"source":"src/state.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":117}},{"source":"src/state.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":125}},{"source":"src/state.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":137}},{"source":"src/state.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":139}},{"source":"src/state.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":150}},{"source":"src/state.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":159}},{"source":"src/state.ts","name":null,"original":{"line":10,"column":10},"generated":{"line":1,"column":163}},{"source":"src/state.ts","name":null,"original":{"line":10,"column":10},"generated":{"line":1,"column":168}},{"source":"src/state.ts","name":null,"original":{"line":10,"column":36},"generated":{"line":1,"column":184}},{"source":"src/state.ts","name":null,"original":{"line":12,"column":9},"generated":{"line":1,"column":186}},{"source":"src/state.ts","name":null,"original":{"line":12,"column":9},"generated":{"line":1,"column":191}},{"source":"src/state.ts","name":null,"original":{"line":12,"column":33},"generated":{"line":1,"column":205}},{"source":"src/state.ts","name":null,"original":{"line":43,"column":0},"generated":{"line":1,"column":207}},{"source":"src/state.ts","name":null,"original":{"line":18,"column":9},"generated":{"line":1,"column":214}},{"source":"src/state.ts","name":null,"original":{"line":18,"column":9},"generated":{"line":1,"column":216}},{"source":"src/state.ts","name":null,"original":{"line":18,"column":9},"generated":{"line":1,"column":226}},{"source":"src/state.ts","name":null,"original":{"line":18,"column":2},"generated":{"line":1,"column":235}},{"source":"src/state.ts","name":null,"original":{"line":18,"column":18},"generated":{"line":1,"column":244}},{"source":"src/state.ts","name":null,"original":{"line":19,"column":9},"generated":{"line":1,"column":247}},{"source":"src/state.ts","name":null,"original":{"line":19,"column":9},"generated":{"line":1,"column":252}},{"source":"src/state.ts","name":null,"original":{"line":19,"column":17},"generated":{"line":1,"column":258}},{"source":"src/state.ts","name":null,"original":{"line":20,"column":4},"generated":{"line":1,"column":260}},{"source":"src/state.ts","name":null,"original":{"line":20,"column":10},"generated":{"line":1,"column":262}},{"source":"src/state.ts","name":null,"original":{"line":21,"column":4},"generated":{"line":1,"column":269}},{"source":"src/state.ts","name":null,"original":{"line":21,"column":10},"generated":{"line":1,"column":271}},{"source":"src/state.ts","name":null,"original":{"line":24,"column":9},"generated":{"line":1,"column":290}},{"source":"src/state.ts","name":null,"original":{"line":24,"column":9},"generated":{"line":1,"column":292}},{"source":"src/state.ts","name":null,"original":{"line":24,"column":9},"generated":{"line":1,"column":302}},{"source":"src/state.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":1,"column":315}},{"source":"src/state.ts","name":null,"original":{"line":24,"column":22},"generated":{"line":1,"column":324}},{"source":"src/state.ts","name":null,"original":{"line":25,"column":8},"generated":{"line":1,"column":327}},{"source":"src/state.ts","name":null,"original":{"line":25,"column":8},"generated":{"line":1,"column":330}},{"source":"src/state.ts","name":null,"original":{"line":25,"column":13},"generated":{"line":1,"column":335}},{"source":"src/state.ts","name":null,"original":{"line":25,"column":24},"generated":{"line":1,"column":344}},{"source":"src/state.ts","name":null,"original":{"line":25,"column":29},"generated":{"line":1,"column":349}},{"source":"src/state.ts","name":null,"original":{"line":25,"column":47},"generated":{"line":1,"column":365}},{"source":"src/state.ts","name":null,"original":{"line":25,"column":51},"generated":{"line":1,"column":367}},{"source":"src/state.ts","name":null,"original":{"line":26,"column":12},"generated":{"line":1,"column":368}},{"source":"src/state.ts","name":null,"original":{"line":26,"column":12},"generated":{"line":1,"column":372}},{"source":"src/state.ts","name":null,"original":{"line":26,"column":24},"generated":{"line":1,"column":374}},{"source":"src/state.ts","name":null,"original":{"line":26,"column":28},"generated":{"line":1,"column":378}},{"source":"src/state.ts","name":null,"original":{"line":26,"column":28},"generated":{"line":1,"column":380}},{"source":"src/state.ts","name":null,"original":{"line":26,"column":41},"generated":{"line":1,"column":393}},{"source":"src/state.ts","name":null,"original":{"line":26,"column":41},"generated":{"line":1,"column":395}},{"source":"src/state.ts","name":null,"original":{"line":27,"column":6},"generated":{"line":1,"column":407}},{"source":"src/state.ts","name":null,"original":{"line":27,"column":16},"generated":{"line":1,"column":409}},{"source":"src/state.ts","name":null,"original":{"line":28,"column":6},"generated":{"line":1,"column":421}},{"source":"src/state.ts","name":null,"original":{"line":28,"column":16},"generated":{"line":1,"column":423}},{"source":"src/state.ts","name":null,"original":{"line":28,"column":26},"generated":{"line":1,"column":433}},{"source":"src/state.ts","name":null,"original":{"line":28,"column":31},"generated":{"line":1,"column":438}},{"source":"src/state.ts","name":null,"original":{"line":28,"column":38},"generated":{"line":1,"column":445}},{"source":"src/state.ts","name":null,"original":{"line":29,"column":11},"generated":{"line":1,"column":453}},{"source":"src/state.ts","name":null,"original":{"line":29,"column":11},"generated":{"line":1,"column":458}},{"source":"src/state.ts","name":null,"original":{"line":29,"column":19},"generated":{"line":1,"column":466}},{"source":"src/state.ts","name":null,"original":{"line":29,"column":24},"generated":{"line":1,"column":471}},{"source":"src/state.ts","name":null,"original":{"line":33,"column":9},"generated":{"line":1,"column":476}},{"source":"src/state.ts","name":null,"original":{"line":33,"column":9},"generated":{"line":1,"column":478}},{"source":"src/state.ts","name":null,"original":{"line":33,"column":9},"generated":{"line":1,"column":488}},{"source":"src/state.ts","name":null,"original":{"line":33,"column":2},"generated":{"line":1,"column":502}},{"source":"src/state.ts","name":null,"original":{"line":33,"column":23},"generated":{"line":1,"column":511}},{"source":"src/state.ts","name":null,"original":{"line":34,"column":10},"generated":{"line":1,"column":514}},{"source":"src/state.ts","name":null,"original":{"line":34,"column":10},"generated":{"line":1,"column":518}},{"source":"src/state.ts","name":null,"original":{"line":34,"column":18},"generated":{"line":1,"column":520}},{"source":"src/state.ts","name":null,"original":{"line":34,"column":23},"generated":{"line":1,"column":525}},{"source":"src/state.ts","name":null,"original":{"line":34,"column":31},"generated":{"line":1,"column":533}},{"source":"src/state.ts","name":null,"original":{"line":34,"column":39},"generated":{"line":1,"column":541}},{"source":"src/state.ts","name":null,"original":{"line":35,"column":9},"generated":{"line":1,"column":544}},{"source":"src/state.ts","name":null,"original":{"line":35,"column":9},"generated":{"line":1,"column":549}},{"source":"src/state.ts","name":null,"original":{"line":35,"column":17},"generated":{"line":1,"column":557}},{"source":"src/state.ts","name":null,"original":{"line":35,"column":24},"generated":{"line":1,"column":564}},{"source":"src/state.ts","name":null,"original":{"line":35,"column":31},"generated":{"line":1,"column":566}},{"source":"src/state.ts","name":null,"original":{"line":38,"column":9},"generated":{"line":1,"column":570}},{"source":"src/state.ts","name":null,"original":{"line":38,"column":9},"generated":{"line":1,"column":572}},{"source":"src/state.ts","name":null,"original":{"line":38,"column":9},"generated":{"line":1,"column":582}},{"source":"src/state.ts","name":null,"original":{"line":38,"column":2},"generated":{"line":1,"column":600}},{"source":"src/state.ts","name":null,"original":{"line":38,"column":27},"generated":{"line":1,"column":609}},{"source":"src/state.ts","name":null,"original":{"line":39,"column":10},"generated":{"line":1,"column":612}},{"source":"src/state.ts","name":null,"original":{"line":39,"column":10},"generated":{"line":1,"column":616}},{"source":"src/state.ts","name":null,"original":{"line":39,"column":18},"generated":{"line":1,"column":618}},{"source":"src/state.ts","name":null,"original":{"line":39,"column":23},"generated":{"line":1,"column":623}},{"source":"src/state.ts","name":null,"original":{"line":39,"column":30},"generated":{"line":1,"column":630}},{"source":"src/state.ts","name":null,"original":{"line":39,"column":42},"generated":{"line":1,"column":642}},{"source":"src/state.ts","name":null,"original":{"line":39,"column":50},"generated":{"line":1,"column":650}},{"source":"src/state.ts","name":null,"original":{"line":40,"column":9},"generated":{"line":1,"column":653}},{"source":"src/state.ts","name":null,"original":{"line":40,"column":9},"generated":{"line":1,"column":658}},{"source":"src/state.ts","name":null,"original":{"line":40,"column":16},"generated":{"line":1,"column":665}},{"source":"src/state.ts","name":null,"original":{"line":40,"column":28},"generated":{"line":1,"column":677}},{"source":"src/state.ts","name":null,"original":{"line":40,"column":35},"generated":{"line":1,"column":684}},{"source":"src/state.ts","name":null,"original":{"line":40,"column":42},"generated":{"line":1,"column":686}},{"source":"src/state.ts","name":null,"original":{"line":41,"column":9},"generated":{"line":1,"column":689}},{"source":"src/state.ts","name":null,"original":{"line":41,"column":9},"generated":{"line":1,"column":694}},{"source":"src/state.ts","name":null,"original":{"line":41,"column":16},"generated":{"line":1,"column":701}},{"source":"src/state.ts","name":null,"original":{"line":43,"column":0},"generated":{"line":1,"column":710}},{"source":"src/state.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":712}},{"source":"src/state.ts","name":null,"original":{"line":9,"column":13},"generated":{"line":1,"column":715}},{"source":"src/state.ts","name":null,"original":{"line":9,"column":13},"generated":{"line":1,"column":723}},{"source":"src/state.ts","name":null,"original":{"line":9,"column":13},"generated":{"line":1,"column":729}},{"source":"src/state.ts","name":null,"original":{"line":45,"column":13},"generated":{"line":1,"column":731}},{"source":"src/state.ts","name":null,"original":{"line":45,"column":13},"generated":{"line":1,"column":739}},{"source":"src/state.ts","name":null,"original":{"line":45,"column":21},"generated":{"line":1,"column":745}},{"source":"src/state.ts","name":null,"original":{"line":45,"column":25},"generated":{"line":1,"column":749}}],"sources":{"src/state.ts":"import { Player } from \"./actors/actor/player\";\r\nimport { Zombie } from \"./actors/actor/zombie\";\r\nimport { CommonZombie } from \"./actors/actor/zombies/common\";\r\nimport { Projectile } from \"./actors/actor/projectile\";\r\n\r\nimport { foreground } from \"./canvas\";\r\nimport { Stage } from \"./stage\";\r\n\r\nexport class State {\r\n  private zombieSpawnRate: number = 2;\r\n\r\n  public selectedClass: number = 0;\r\n\r\n  public stage: Stage;\r\n  public player: Player;\r\n  public zombies: Zombie[];\r\n\r\n  public setStage(stage: Stage) {\r\n    this.stage = stage;\r\n    stage.init();\r\n    stage.listenForEvents();\r\n  }\r\n\r\n  public createZombie(dt: number) {\r\n    if (Math.random() < this.zombieSpawnRate * dt) {\r\n      const newZombie = new CommonZombie(foreground);\r\n      newZombie.setCoords();\r\n      newZombie.setFacing(this.player.coords);\r\n      this.zombies.push(newZombie);\r\n    }\r\n  }\r\n\r\n  public destroyZombie(zombie: Zombie) {\r\n    const index = this.zombies.indexOf(zombie);\r\n    this.zombies.splice(index, 1);\r\n  }\r\n\r\n  public destroyProjectile(projectile: Projectile) {\r\n    const index = this.player.projectiles.indexOf(projectile);\r\n    this.player.projectiles.splice(index, 1);\r\n    this.player.score++;\r\n  }\r\n}\r\n\r\nexport const state = new State();\r\n"},"lineCount":null}},"error":null,"hash":"507658eb2c94bf464e8130bd2801125e","cacheData":{"env":{}}}